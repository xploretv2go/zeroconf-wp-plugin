(this["webpackJsonpzeroconf-wp-plugin"]=this["webpackJsonpzeroconf-wp-plugin"]||[]).push([[0],{1:function(e,t,a){e.exports={Item:"Discovery_Item__2ukVt",Title:"Discovery_Title__3eT40",Back:"Discovery_Back__mo5C4",Background:"Discovery_Background__qOefW",LeftPanel:"Discovery_LeftPanel__3tiIc",MidPanel:"Discovery_MidPanel__3hlkj",RightPanel:"Discovery_RightPanel__1Ve4X",Show:"Discovery_Show__2ClRv",Hide:"Discovery_Hide__2KeSg",ServiceWrap:"Discovery_ServiceWrap__a_rbe",ErrorWrap:"Discovery_ErrorWrap__2_6L0",ErrorItem:"Discovery_ErrorItem__2t7f0",Frame:"Discovery_Frame__iP-QS",Row:"Discovery_Row__39C1C",InfoRow:"Discovery_InfoRow__1PJ3D",DetailRow:"Discovery_DetailRow__2Dlb4",Address:"Discovery_Address__xKNFP",Name:"Discovery_Name__3Qyxh",Type:"Discovery_Type__21KWU",Number:"Discovery_Number__2ollu",InfoWrap:"Discovery_InfoWrap__3mfmW",InfoHead:"Discovery_InfoHead__1FkrL",InfoValue:"Discovery_InfoValue__3FvNy",BtnWrap:"Discovery_BtnWrap__WnakS",Btn:"Discovery_Btn__jm9RC",TextCenter:"Discovery_TextCenter__AQr-M",InfoTitle:"Discovery_InfoTitle__2t5M3",slideInFromLeft:"Discovery_slideInFromLeft__3X5RV",slideOutFromRight:"Discovery_slideOutFromRight__3ENQr"}},11:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(5),i=a.n(s),o=(a(16),a(17),a(3)),c=a.n(o),l=a(6),m=a(7),d=a(8),u=a(10),v=a(9),h=a(2),p=a.n(h),_=a(1),f=a.n(_),y=function(){return n.a.createElement("svg",{width:"90%",height:"90%",viewBox:"0 0 187 235",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"}},n.a.createElement("g",{id:"Page-1",opacity:"0.2"},n.a.createElement("g",{transform:"matrix(1,0,0,1,-2,0)"},n.a.createElement("g",{id:"Error1"},n.a.createElement("g",{id:"NothingFound"},n.a.createElement("g",{id:"Group"},n.a.createElement("g",{id:"Group-26"},n.a.createElement("path",{id:"Fill-7",d:"M46.709,53.361L46.709,65.153C49.583,65.834 68.843,69.461 94.316,69.461C108.215,69.461 123.967,68.381 139.914,65.153L139.914,53.361C156.894,56.304 165.614,60.478 165.614,63.236C165.614,67.893 140.783,76.578 93.311,76.578C45.84,76.578 21.008,67.893 21.008,63.236C21.008,60.478 29.729,56.304 46.709,53.361M93.311,5.43C116.183,5.43 134.791,23.994 134.791,46.811L134.791,60.927C122.148,63.199 108.555,64.349 94.316,64.349C75.156,64.349 59.301,62.241 51.832,60.949L51.832,46.811C51.832,23.994 70.439,5.43 93.311,5.43M93.311,107.174C57.849,107.174 28.291,91.576 22.185,71.078C35.892,78.728 69.164,81.689 93.311,81.689C117.459,81.689 150.729,78.728 164.438,71.078C158.332,91.576 128.772,107.174 93.311,107.174M93.311,112.285C136.004,112.285 170.737,90.282 170.737,63.236C170.737,55.926 157.232,51.135 139.914,48.269L139.914,46.811C139.914,21.134 119.048,0.318 93.311,0.318C67.573,0.318 46.709,21.134 46.709,46.811L46.709,48.269C29.391,51.135 15.884,55.926 15.884,63.236C15.884,90.282 50.618,112.285 93.311,112.285",style:{fill:"#505a67"}}),n.a.createElement("path",{id:"Fill-9",d:"M93.311,86.183C90.24,86.183 87.748,88.667 87.748,91.733C87.748,94.797 90.24,97.282 93.311,97.282C96.382,97.282 98.874,94.797 98.874,91.733C98.874,88.667 96.382,86.183 93.311,86.183",style:{fill:"#505a67"}}),n.a.createElement("path",{id:"Fill-11",d:"M130.79,83.755C128.168,83.755 126.042,85.877 126.042,88.492C126.042,91.108 128.168,93.229 130.79,93.229C133.412,93.229 135.538,91.108 135.538,88.492C135.538,85.877 133.412,83.755 130.79,83.755",style:{fill:"#505a67"}}),n.a.createElement("path",{id:"Fill-13",d:"M55.832,83.755C53.21,83.755 51.084,85.877 51.084,88.492C51.084,91.108 53.21,93.229 55.832,93.229C58.454,93.229 60.58,91.108 60.58,88.492C60.58,85.877 58.454,83.755 55.832,83.755",style:{fill:"#505a67"}}),n.a.createElement("path",{id:"Fill-15",d:"M62.107,49.492L63.918,51.299L87.138,28.134L85.327,26.327L62.107,49.492Z",style:{fill:"#505a67"}}),n.a.createElement("path",{id:"Fill-17",d:"M86.748,37.381L84.937,35.574L76.804,43.688L78.615,45.495L86.748,37.381Z",style:{fill:"#505a67"}}),n.a.createElement("path",{id:"Fill-21",d:"M93.969,229.225L96.531,229.225L96.531,119.225L93.969,119.225L93.969,229.225Z",style:{fill:"#505a67"}}),n.a.createElement("path",{id:"Fill-24",d:"M62.79,115.999L61.648,115.418L60.508,114.836L2.001,229.062L3.14,229.643L4.282,230.225L62.79,115.999Z",style:{fill:"#505a67"}}),n.a.createElement("path",{id:"Fill-25",d:"M188.837,228.53L127.994,115.071L126.864,115.674L125.735,116.276L186.577,229.735L187.707,229.133L188.837,228.53Z",style:{fill:"#505a67"}}))))))))},g=function(e){Object(u.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).baseUrl="http://localzeroconf:15051/a1/xploretv/v1/zeroconf",e.serviceName="TV Dashboard",e.state={error:{code:"Unknown",msg:"Error",reason:"Failed to fetch"}},e.loaded=0,e.mainItems=[{key:"ipv4",name:"IPv4"},{key:"ipv6",name:"IPv6"},{key:"port",name:"Port"},{key:"name",name:"Name"},{key:"domain",name:"Domain"},{key:"host",name:"Host"},{key:"type",name:"Service Type"},{key:"subtype",name:"Service Subtype"}],e.showRight=!1,e.changeIdx=function(t,a){"services"in e.state&&(e.showRight=!1,e.setState({selIdx:a,detailIdx:0}),t.target.scrollIntoView({behavior:"smooth",inline:"center",block:"center"}))},e.changeDetailIdx=function(t,a){"services"in e.state&&(e.showRight=!0,e.setState({detailIdx:a}),t.target.scrollIntoView({behavior:"smooth",inline:"center",block:"center"}))},e}return Object(d.a)(a,[{key:"parseData",value:function(e){var t={};e.forEach((function(e){var a={name:e.name,domain:e.domainName,host:e.hostName,ipv4:e.addresses.ipv4,ipv6:e.addresses.ipv6,type:e.service.type,subtype:e.service.subtype,port:String(e.service.port),record:e.service.txtRecord};e.hostName in t?t[e.hostName].push(a):t[e.hostName]=[a]})),"services"in this.state?this.setState({services:t}):this.setState({services:t,selIdx:0,detailIdx:0,error:!1})}},{key:"requestServices",value:function(){var e=this;fetch(this.baseUrl,{headers:{"Content-Type":"application/json"}}).then(function(){var t=Object(l.a)(c.a.mark((function t(a){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:if(r=t.sent,a.ok){t.next=5;break}return t.abrupt("return",e.setState({error:{code:r.code,msg:r.message,reason:r.reason,host:Object({NODE_ENV:"production",PUBLIC_URL:"/wordpress/wp-content/reactpress/apps/zeroconf-wp-plugin/build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DISCOVERY_URL}}));case 5:return t.abrupt("return",e.parseData(r.services));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return e.setState({error:{code:"Unknown",msg:"Error",reason:t.message,host:Object({NODE_ENV:"production",PUBLIC_URL:"/wordpress/wp-content/reactpress/apps/zeroconf-wp-plugin/build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DISCOVERY_URL}})}))}},{key:"loadData",value:function(){var e=this;0===this.loaded?fetch(this.baseUrl,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.serviceName,replaceWildcards:!0,serviceProtocol:"any",service:{type:"_http._tcp",port:80,txtRecord:{version:"1.0",provider:"A1 Telekom Austria Group",product:"A1 Service Discovery",path:window.location.protocol+"//"+window.location.hostname+":"+window.location.port}}})}).then((function(e){return e.json()})).then((function(t){if(201!==t.code&&409!==t.code)return e.setState({error:{code:t.code,msg:t.message,reason:t.reason,host:e.baseUrl}});e.requestServices()})).catch((function(t){return e.setState({error:{code:"Unknown",msg:"Error",reason:t.message,host:e.baseUrl}})})):this.requestServices()}},{key:"componentDidMount",value:function(){this.loadData(),this.loaded=Date.now()}},{key:"getNodes",value:function(){var e=this;if("services"in this.state)return Object.keys(this.state.services).map((function(t,a){return n.a.createElement(h.Focusable,{className:f.a.Row+(0===a?" menu-active":""),key:a,onFocus:function(t){return e.changeIdx(t,a)},onKeyUp:function(t){return e.props.hideMenu(t)}},n.a.createElement("p",{className:f.a.Name},e.state.services[t][0].host.replace(/(.local.$|.$)/i,"")),n.a.createElement("p",{className:f.a.Address},e.state.services[t][0].ipv4[0],n.a.createElement("span",{className:f.a.Number}," (",1===e.state.services[t].length?"One service":e.state.services[t].length+" services",")")))}))}},{key:"getServices",value:function(){var e=this;if("services"in this.state){var t=this.state.selIdx;this.state.selIdx>Object.keys(this.state.services).length&&(t=0);var a=this.state.services[Object.keys(this.state.services)[t]];return n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:f.a.Address},"Address"),n.a.createElement("p",{className:f.a.Name},a[0].host),a[0].ipv4.map((function(e,t){return n.a.createElement("p",{key:"ipv4-"+t,className:f.a.Name},e)})),a[0].ipv6.map((function(e,t){return n.a.createElement("p",{key:"ipv6-"+t,className:f.a.Name},e)})),n.a.createElement("div",{className:f.a.InfoWrap},n.a.createElement("p",{className:f.a.Address},"Services"),a.map((function(t,a){return n.a.createElement(h.Focusable,{className:f.a.InfoRow,key:a,onFocus:function(t){return e.changeDetailIdx(t,a)},onKeyUp:function(t){return e.props.hideMenu(t)}},n.a.createElement("p",{className:f.a.Name},t.name),n.a.createElement("p",{className:f.a.Type},t.type))}))))}}},{key:"getLink",value:function(e,t){return e.record.get&&e.record.get.startsWith("http")?e.record.get:"http://"+t+":"+String(e.port)+(e.record.get?e.record.get:"")}},{key:"getButton",value:function(e){var t=this;if(e.type.includes("http"))return e.ipv4.map((function(a,r){return n.a.createElement("div",{className:f.a.BtnWrap,key:"open_btn-"+r},n.a.createElement(h.Focusable,{className:f.a.Btn,onClickEnter:function(){window.open(t.getLink(e,a),"_blank")}},e.ipv4.length>1?"Open ("+r+")":"Open"))}))}},{key:"getDetailValue",value:function(e,t){return Array.isArray(e[t.key])?e[t.key].map((function(e,a){return n.a.createElement("p",{key:t.key+"-"+a,className:f.a.InfoValue},e)})):n.a.createElement("p",{className:f.a.InfoValue},e[t.key])}},{key:"getServiceDetail",value:function(){var e=this;if("services"in this.state){var t=this.state.detailIdx;if(this.state.services[Object.keys(this.state.services)[this.state.selIdx]].length<t+1)return void(t=0);var a=this.state.services[Object.keys(this.state.services)[this.state.selIdx]][t];return n.a.createElement(h.FocusableSection,{sectionId:"detail-service",neighborUp:"",neighborDown:"",neighborLeft:"@detail-services",neighborRight:"",className:f.a.RightPanel+" "+(this.showRight?f.a.Show:f.a.Hide)},n.a.createElement("div",{className:f.a.Frame},this.getButton(a),n.a.createElement("p",{className:f.a.InfoTitle},"Core"),this.mainItems.map((function(t,r){return a[t.key]&&a[t.key].length>0?n.a.createElement(h.Focusable,{className:f.a.DetailRow,key:"detail_"+r,onFocus:function(e){e.target.scrollIntoView({behavior:"smooth",inline:"center",block:"center"})}},n.a.createElement("p",{className:f.a.InfoHead},t.name),e.getDetailValue(a,t)):null})),n.a.createElement("br",null),n.a.createElement("p",{className:f.a.InfoTitle},"Data"),Object.keys(a.record).map((function(e){return n.a.createElement(h.Focusable,{className:f.a.DetailRow,key:e,onFocus:function(e){e.target.scrollIntoView({behavior:"smooth",inline:"center",block:"center"})}},n.a.createElement("p",{className:f.a.InfoHead},e),n.a.createElement("p",{className:f.a.InfoValue},a.record[e]))}))))}}},{key:"getMenu",value:function(){return!1!==this.state.error?n.a.createElement("div",{className:"modal-menu",ref:this.props.modalRef},n.a.createElement("div",{className:f.a.ServiceWrap},n.a.createElement(h.FocusableSection,{sectionId:"main-service",className:f.a.ErrorWrap},n.a.createElement("div",{className:f.a.ErrorItem},n.a.createElement(y,null)),n.a.createElement("div",{className:f.a.ErrorItem},n.a.createElement("strong",null,"Ups, da ist etwas schief gelaufen.")," Wahrscheinlich fehlt das Zeroconfiguration Networking Service. Bitte wenden Sie sich an den Ger\xe4tehersteller oder an Ihren Dienstanbieter."),n.a.createElement("div",{className:f.a.ErrorItem},n.a.createElement("strong",null,"Ooops, something went wrong.")," Probably the Zeroconfiguration Networking Service is missing. Please contact the device manufacturer or your service provider."),n.a.createElement("div",{className:f.a.ErrorCode},n.a.createElement("strong",null,"Host:")," ",this.state.error.host),n.a.createElement("div",{className:f.a.ErrorCode},n.a.createElement("strong",null,"Code:")," ",this.state.error.code),n.a.createElement("div",{className:f.a.ErrorMsg},n.a.createElement("strong",null,this.state.error.msg,":")," ",this.state.error.reason)))):n.a.createElement("div",{className:f.a.Background},n.a.createElement("h1",{className:f.a.Title},"Service Discovery"),n.a.createElement("div",{className:f.a.ServiceWrap},n.a.createElement(h.FocusableSection,{sectionId:"main-service",neighborUp:"@section_header",neighborDown:"",neighborRight:"@detail-services",className:f.a.LeftPanel},n.a.createElement("div",{className:f.a.Frame},n.a.createElement("p",{className:f.a.Address+" "+f.a.TextCenter},"Hosts"),this.getNodes())),n.a.createElement(h.FocusableSection,{sectionId:"detail-services",neighborUp:"@section_header",neighborDown:"",neighborLeft:"@main-service",neighborRight:"@detail-service",className:f.a.MidPanel},n.a.createElement("div",{className:f.a.Frame},this.getServices())),this.getServiceDetail()))}},{key:"render",value:function(){return this.getMenu()}}]),a}(r.Component);var E=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(p.a,{className:"App"},n.a.createElement(g,{hideMenu:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=[8,27,403,461];(a.includes(e.keyCode)||!1===t)&&window.history.back()}})))};i.a.render(n.a.createElement(n.a.Fragment,null,n.a.createElement(E,null)),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.63a3400b.chunk.js.map