{"version":3,"sources":["Discovery/Discovery.module.css","Discovery/Discovery.js","App.js","index.js"],"names":["module","exports","Icon","width","height","viewBox","version","xmlns","xmlnsXlink","style","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","id","opacity","transform","d","fill","Loader","x","y","enable-background","xmlSpace","attributeName","attributeType","type","dur","from","to","repeatCount","Discovery","baseUrl","process","serviceName","state","error","code","msg","reason","loaded","loading","mainItems","key","name","showRight","initialized","changeIdx","event","idx","setState","selIdx","detailIdx","target","scrollIntoView","behavior","inline","block","changeDetailIdx","this","loadData","Date","now","window","addEventListener","deleteService","data","services","forEach","service","node","domain","domainName","host","hostName","ipv4","addresses","ipv6","subtype","port","String","record","txtRecord","push","fetch","headers","then","res","a","json","resp","ok","message","parseData","catch","navigator","sendBeacon","method","body","JSON","stringify","replaceWildcards","serviceProtocol","provider","product","virtualHost","path","location","protocol","hostname","response","requestServices","Object","keys","map","className","classes","Row","onFocus","onKeyUp","props","hideMenu","Name","replace","Address","Number","length","index","evt","Event","document","dispatchEvent","ip","InfoWrap","ser","InfoRow","Type","startsWith","includes","BtnWrap","Btn","onClickEnter","open","getLink","item","Array","isArray","it","InfoValue","sectionId","neighborUp","neighborDown","neighborLeft","neighborRight","RightPanel","Show","Hide","Frame","getButton","InfoTitle","DetailRow","InfoHead","getDetailValue","Loading","ref","modalRef","ServiceWrap","ErrorWrap","ErrorItem","ErrorCode","ErrorMsg","Background","Title","LeftPanel","TextCenter","getNodes","MidPanel","getServices","getServiceDetail","getMenu","Component","App","keyCode","history","back","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.66c73b82.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"Discovery_Item__3qqoA\",\"Title\":\"Discovery_Title__1USnv\",\"Back\":\"Discovery_Back__2pgJf\",\"Background\":\"Discovery_Background__2U1XV\",\"LeftPanel\":\"Discovery_LeftPanel__wwJ14\",\"MidPanel\":\"Discovery_MidPanel___Svcj\",\"RightPanel\":\"Discovery_RightPanel__11Vy7\",\"Show\":\"Discovery_Show__3j9G7\",\"Hide\":\"Discovery_Hide__1QLvT\",\"ServiceWrap\":\"Discovery_ServiceWrap__2aIQo\",\"ErrorWrap\":\"Discovery_ErrorWrap__2ZgyD\",\"ErrorItem\":\"Discovery_ErrorItem__K_T27\",\"Frame\":\"Discovery_Frame__2xEYJ\",\"Row\":\"Discovery_Row__17NPD\",\"InfoRow\":\"Discovery_InfoRow__n3itr\",\"DetailRow\":\"Discovery_DetailRow__2vF1P\",\"Address\":\"Discovery_Address__3UuYj\",\"Name\":\"Discovery_Name__1-T_l\",\"Type\":\"Discovery_Type__23x1G\",\"Number\":\"Discovery_Number__1XGVb\",\"InfoWrap\":\"Discovery_InfoWrap__3JqKA\",\"InfoHead\":\"Discovery_InfoHead__SihZV\",\"InfoValue\":\"Discovery_InfoValue__31wlU\",\"BtnWrap\":\"Discovery_BtnWrap__2hPUO\",\"Btn\":\"Discovery_Btn__2WI00\",\"TextCenter\":\"Discovery_TextCenter__2DSXu\",\"InfoTitle\":\"Discovery_InfoTitle__2Hs6O\",\"Loading\":\"Discovery_Loading__3ulY-\",\"slideInFromLeft\":\"Discovery_slideInFromLeft__TCR0b\",\"slideOutFromRight\":\"Discovery_slideOutFromRight__1BmLE\"};","\r\nimport React, { Component } from 'react';\r\nimport { Focusable, FocusableSection } from 'react-js-spatial-navigation';\r\nimport classes from './Discovery.module.css';\r\n\r\nconst Icon = () => (\r\n    <svg width=\"90%\" height=\"90%\" viewBox=\"0 0 187 235\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" style={{fillRule:\"evenodd\",clipRule:\"evenodd\",strokeLinejoin:\"round\",strokeMiterlimit:\"2\"}}>\r\n    <g id=\"Page-1\" opacity=\"0.2\">\r\n        <g transform=\"matrix(1,0,0,1,-2,0)\">\r\n            <g id=\"Error1\">\r\n                <g id=\"NothingFound\">\r\n                    <g id=\"Group\">\r\n                        <g id=\"Group-26\">\r\n                            <path id=\"Fill-7\" d=\"M46.709,53.361L46.709,65.153C49.583,65.834 68.843,69.461 94.316,69.461C108.215,69.461 123.967,68.381 139.914,65.153L139.914,53.361C156.894,56.304 165.614,60.478 165.614,63.236C165.614,67.893 140.783,76.578 93.311,76.578C45.84,76.578 21.008,67.893 21.008,63.236C21.008,60.478 29.729,56.304 46.709,53.361M93.311,5.43C116.183,5.43 134.791,23.994 134.791,46.811L134.791,60.927C122.148,63.199 108.555,64.349 94.316,64.349C75.156,64.349 59.301,62.241 51.832,60.949L51.832,46.811C51.832,23.994 70.439,5.43 93.311,5.43M93.311,107.174C57.849,107.174 28.291,91.576 22.185,71.078C35.892,78.728 69.164,81.689 93.311,81.689C117.459,81.689 150.729,78.728 164.438,71.078C158.332,91.576 128.772,107.174 93.311,107.174M93.311,112.285C136.004,112.285 170.737,90.282 170.737,63.236C170.737,55.926 157.232,51.135 139.914,48.269L139.914,46.811C139.914,21.134 119.048,0.318 93.311,0.318C67.573,0.318 46.709,21.134 46.709,46.811L46.709,48.269C29.391,51.135 15.884,55.926 15.884,63.236C15.884,90.282 50.618,112.285 93.311,112.285\" style={{fill: \"#505a67\"}}/>\r\n                            <path id=\"Fill-9\" d=\"M93.311,86.183C90.24,86.183 87.748,88.667 87.748,91.733C87.748,94.797 90.24,97.282 93.311,97.282C96.382,97.282 98.874,94.797 98.874,91.733C98.874,88.667 96.382,86.183 93.311,86.183\" style={{fill: \"#505a67\"}}/>\r\n                            <path id=\"Fill-11\" d=\"M130.79,83.755C128.168,83.755 126.042,85.877 126.042,88.492C126.042,91.108 128.168,93.229 130.79,93.229C133.412,93.229 135.538,91.108 135.538,88.492C135.538,85.877 133.412,83.755 130.79,83.755\" style={{fill: \"#505a67\"}}/>\r\n                            <path id=\"Fill-13\" d=\"M55.832,83.755C53.21,83.755 51.084,85.877 51.084,88.492C51.084,91.108 53.21,93.229 55.832,93.229C58.454,93.229 60.58,91.108 60.58,88.492C60.58,85.877 58.454,83.755 55.832,83.755\" style={{fill: \"#505a67\"}}/>\r\n                            <path id=\"Fill-15\" d=\"M62.107,49.492L63.918,51.299L87.138,28.134L85.327,26.327L62.107,49.492Z\" style={{fill: \"#505a67\"}}/>\r\n                            <path id=\"Fill-17\" d=\"M86.748,37.381L84.937,35.574L76.804,43.688L78.615,45.495L86.748,37.381Z\"  style={{fill: \"#505a67\"}}/>\r\n                            <path id=\"Fill-21\" d=\"M93.969,229.225L96.531,229.225L96.531,119.225L93.969,119.225L93.969,229.225Z\"  style={{fill: \"#505a67\"}}/>\r\n                            <path id=\"Fill-24\" d=\"M62.79,115.999L61.648,115.418L60.508,114.836L2.001,229.062L3.14,229.643L4.282,230.225L62.79,115.999Z\"  style={{fill: \"#505a67\"}}/>\r\n                            <path id=\"Fill-25\" d=\"M188.837,228.53L127.994,115.071L126.864,115.674L125.735,116.276L186.577,229.735L187.707,229.133L188.837,228.53Z\" style={{fill: \"#505a67\"}}/>\r\n                        </g>\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg> \r\n  );\r\n\r\n  const Loader = () => (\r\n    <svg version=\"1.1\" id=\"L9\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"60%\" height=\"60%\"\r\n        viewBox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xmlSpace=\"preserve\">\r\n            <path fill=\"#505a67\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\">\r\n            <animateTransform \r\n                attributeName=\"transform\" \r\n                attributeType=\"XML\" \r\n                type=\"rotate\"\r\n                dur=\"1s\" \r\n                from=\"0 50 50\"\r\n                to=\"360 50 50\" \r\n                repeatCount=\"indefinite\" />\r\n  </path>\r\n</svg>\r\n  );\r\n\r\nclass Discovery extends Component {\r\n    baseUrl = process.env.REACT_APP_DISCOVERY_URL;\r\n    serviceName = 'TV Dashboard';\r\n    state = {error: {code: 'Unknown', msg: 'Error', reason: 'Failed to fetch'}};\r\n    loaded = 0;\r\n    loading = true;\r\n    mainItems = [{key: 'ipv4', name: 'IPv4'}, {key: 'ipv6', name: 'IPv6'}, {key: 'port', name: 'Port'}, {key: 'name', name: 'Name'}, { key: 'domain', name: 'Domain'},\r\n                 { key: 'host', name: 'Host'}, {key: 'type', name: 'Service Type'}, { key: 'subtype', name: 'Service Subtype'}]\r\n    showRight = false;\r\n    initialized = false;\r\n\r\n    componentDidMount() {\r\n\r\n        this.loadData();\r\n        this.loaded = Date.now();\r\n\r\n        window.addEventListener('beforeunload', () => {\r\n            this.deleteService();\r\n            //console.log('Unregistering service');\r\n        })\r\n    }\r\n\r\n\r\n    parseData(data){\r\n        const services = {};\r\n        data.forEach(service => {\r\n            const node = {name: service.name, domain: service.domainName, host: service.hostName, ipv4: service.addresses.ipv4, ipv6: service.addresses.ipv6,\r\n                          type: service.service.type, subtype: service.service.subtype, port: String(service.service.port), record: service.service.txtRecord};\r\n            if (service.hostName in services){\r\n                services[service.hostName].push(node);\r\n            } else {\r\n                services[service.hostName] = [node];\r\n            }\r\n        });\r\n        if ('services' in this.state){\r\n            this.setState({services: services});\r\n        } else {\r\n            this.setState({services: services, selIdx: 0, detailIdx: 0, error: false});\r\n        }\r\n    }\r\n\r\n    requestServices(){\r\n            fetch(this.baseUrl, {\r\n                headers: { 'Content-Type': 'application/json' },\r\n            })\r\n            .then(async res => {\r\n                const resp = await res.json();\r\n                if (!res.ok){\r\n                    this.loading = false;\r\n                    return this.setState({ error: { code: resp.code, msg: resp.message, reason: resp.reason, host: process.env.REACT_APP_DISCOVERY_URL } });\r\n                }\r\n                this.loading = false;\r\n                return this.parseData(resp.services);\r\n            }).catch(error => {\r\n                this.loading = false;\r\n                return this.setState({error: {code: 'Unknown', msg: 'Error', reason: error.message, host: process.env.REACT_APP_DISCOVERY_URL}});\r\n            });\r\n    }\r\n\r\n    deleteService(){\r\n        navigator.sendBeacon( this.baseUrl + '/' + this.serviceName);\r\n    }\r\n\r\n    loadData() {\r\n        if (this.loaded === 0)\r\n        {\r\n            fetch(this.baseUrl, {\r\n            method: 'post',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(\r\n                {\r\n                    name: this.serviceName,\r\n                    replaceWildcards: true,\r\n                    serviceProtocol: 'any',\r\n                    service: {\r\n                        type: '_http._tcp',\r\n                        port: 443,\r\n                        txtRecord: {\r\n                            version: '1.0',\r\n                            provider: 'A1 Telekom Austria Group',\r\n                            product: 'A1 Service Discovery',\r\n                            virtualHost: 'true',\r\n                            path:  window.location.protocol + '//' + window.location.hostname,\r\n                        }\r\n                    }\r\n                }\r\n            )\r\n            })\r\n            .then(response => response.json())\r\n            .then(response => {\r\n                if (response.code !== 201 && response.code !== 409){\r\n                    this.loading = false;\r\n                    return this.setState({error: {code: response.code, msg: response.message, reason: response.reason, host: this.baseUrl}});\r\n                }\r\n                this.loading = false;\r\n                this.requestServices();\r\n            })\r\n            .catch(error => {\r\n                this.loading = false;\r\n                return this.setState({error: {code: 'Unknown', msg: 'Error', reason: error.message, host: this.baseUrl}});\r\n            })\r\n        } else {\r\n            this.requestServices();\r\n        }\r\n    }\r\n\r\n   /* componentDidMount(){\r\n            this.loadData();\r\n            this.loaded = Date.now();\r\n        }*/\r\n\r\n    changeIdx = (event, idx) => {\r\n        if ('services' in this.state){\r\n            this.showRight = false;\r\n            this.setState({selIdx: idx, detailIdx: 0});\r\n            event.target.scrollIntoView({behavior: 'smooth', inline: 'center', block: 'center'});\r\n        }\r\n    }\r\n\r\n    changeDetailIdx = (event, idx) => {\r\n        if ('services' in this.state){\r\n            this.showRight = true;\r\n            this.setState({detailIdx: idx});\r\n            event.target.scrollIntoView({behavior: 'smooth', inline: 'center', block: 'center'});\r\n        }\r\n    }\r\n\r\n    getNodes(){\r\n        if ('services' in this.state){\r\n            return (Object.keys(this.state.services).map((key, idx) => {\r\n                return(\r\n                    <Focusable className={classes.Row + (idx === 0 ? ' menu-active' : '')} key={idx}\r\n                        onFocus={(event) => this.changeIdx(event, idx)}\r\n                        onKeyUp={(event) => this.props.hideMenu(event)}>\r\n                        <p className={classes.Name}>{this.state.services[key][0].host.replace(/(.local.$|.$)/i, '')}</p>\r\n                        <p className={classes.Address}>{this.state.services[key][0].ipv4[0]}\r\n                        <span className={classes.Number}> ({this.state.services[key].length === 1 ? 'One service' : this.state.services[key].length + ' services'})</span>\r\n                        </p>\r\n                    </Focusable>\r\n                )\r\n            })\r\n            )\r\n        }\r\n    }\r\n\r\n    getServices(){\r\n        if ('services' in this.state){\r\n            let index = this.state.selIdx;\r\n            if (this.state.selIdx > Object.keys(this.state.services).length) {\r\n                index = 0;\r\n            }\r\n\r\n            if (this.initialized === false){\r\n                const evt = new Event(\"contentReady\", {\"bubbles\":true, \"cancelable\":false});\r\n                document.dispatchEvent(evt);\r\n                this.initialized = true;\r\n            }\r\n\r\n            const service = this.state.services[Object.keys(this.state.services)[index]];\r\n            return (\r\n                <>\r\n                    <p className={classes.Address}>Address</p>\r\n                    <p className={classes.Name}>{service[0].host}</p>\r\n                    {service[0].ipv4.map((ip, idx) => {\r\n                        return(<p key={'ipv4-' + idx} className={classes.Name}>{ip}</p>)\r\n                    })}\r\n                    {service[0].ipv6.map((ip, idx) => {\r\n                        return(<p key={'ipv6-' + idx} className={classes.Name}>{ip}</p>)\r\n                    })}\r\n                    <div className={classes.InfoWrap}>\r\n                        <p className={classes.Address}>Services</p>\r\n                        {service.map((ser, idx) => {\r\n                            return(\r\n                                <Focusable className={classes.InfoRow} key={idx}\r\n                                    onFocus={(event) => this.changeDetailIdx(event, idx)}\r\n                                    onKeyUp={(event) => this.props.hideMenu(event)}>\r\n                                    <p className={classes.Name}>{ser.name}</p>\r\n                                    <p className={classes.Type}>{ser.type}</p>\r\n                                </Focusable>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n    getLink(service, ip){\r\n        let url = \"\";\r\n        if (service.record['get'] && service.record['get'].startsWith('http')){\r\n            url = service.record['get'];\r\n        } else {\r\n            url = 'http://' + ip + ':' + String(service['port']) + (service.record['get'] ? service.record['get'] : '');\r\n        }\r\n        return url;\r\n    }\r\n\r\n    getButton(service){\r\n        if (service['type'].includes('http')){\r\n            return(service['ipv4'].map((ip, idx) => {\r\n                return(\r\n                    <div className={classes.BtnWrap} key={'open_btn-' + idx}>\r\n                        <Focusable className={classes.Btn} onClickEnter={() => {window.open(this.getLink(service, ip), '_blank')}}>\r\n                            {service['ipv4'].length > 1 ? 'Open (' + idx +')': 'Open'}\r\n                        </Focusable>\r\n                    </div>\r\n                )\r\n            }))\r\n        }\r\n    }\r\n\r\n    getDetailValue(service, item){\r\n        if (Array.isArray(service[item.key])){\r\n            return (service[item.key].map((it, idx) => {\r\n                return(<p key={item.key + '-' + idx} className={classes.InfoValue}>{it}</p>)\r\n            }))\r\n        } else {\r\n            return(<p className={classes.InfoValue}>{service[item.key]}</p>)\r\n        }\r\n    }\r\n\r\n    getServiceDetail(){\r\n        if ('services' in this.state){\r\n            let index = this.state.detailIdx;\r\n            if (this.state.services[Object.keys(this.state.services)[this.state.selIdx]].length < index + 1){\r\n                index = 0;\r\n                return\r\n            }\r\n\r\n            const service = this.state.services[Object.keys(this.state.services)[this.state.selIdx]][index];\r\n            return(\r\n                <FocusableSection sectionId='detail-service'\r\n                    neighborUp='@section_header'\r\n                    neighborDown=''\r\n                    neighborLeft='@detail-services'\r\n                    neighborRight=''\r\n                    className={classes.RightPanel + ' ' + (this.showRight ? classes.Show : classes.Hide)}>\r\n                        <div className={classes.Frame}>\r\n                            {this.getButton(service)}\r\n                            <p className={classes.InfoTitle}>Core</p>\r\n                            {this.mainItems.map((item, idx) => {\r\n                                if (service[item.key] && service[item.key].length > 0){\r\n                                    return(\r\n                                        <Focusable className={classes.DetailRow} key={'detail_' + idx}\r\n                                            onFocus={(event) => {event.target.scrollIntoView({behavior: 'smooth', inline: 'center', block: 'center'})}}>\r\n                                            <p className={classes.InfoHead}>{item.name}</p>\r\n                                            {this.getDetailValue(service, item)}\r\n                                        </Focusable>\r\n                                    )\r\n                                } else return(null)\r\n                            })}\r\n                            <br></br>\r\n                            <p className={classes.InfoTitle}>Data</p>\r\n                            {Object.keys(service.record).map((item) => {\r\n                                return(\r\n                                    <Focusable className={classes.DetailRow} key={item}\r\n                                        onFocus={(event) => {event.target.scrollIntoView({behavior: 'smooth', inline: 'center', block: 'center'})}}>\r\n                                        <p className={classes.InfoHead}>{item}</p>\r\n                                        <p className={classes.InfoValue}>{service.record[item]}</p>\r\n                                    </Focusable>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                </FocusableSection>\r\n            )\r\n        }\r\n    }\r\n    getMenu() {\r\n            if (this.loading === true) {\r\n                return(<div className={classes.Loading}>\r\n                        <div ref={this.props.modalRef}>\r\n                            <div className={classes.ServiceWrap}>\r\n                                <Loader/>\r\n                            </div>\r\n                        </div>\r\n                </div>);\r\n            }\r\n            else if (this.state.error !== false && this.loading === false){\r\n                return(\r\n                        <div className={'modal-menu'} ref={this.props.modalRef}>\r\n                            <div className={classes.ServiceWrap}>\r\n                                <FocusableSection\r\n                                        className={classes.ErrorWrap}>\r\n                                    <div className={classes.ErrorItem}>\r\n                                        <Icon/>\r\n                                    </div>\r\n                                    <div className={classes.ErrorItem}><strong>Ups, da ist etwas schief gelaufen.</strong> Wahrscheinlich fehlt das Zeroconfiguration Networking Service. Bitte wenden Sie sich an den Gerätehersteller oder an Ihren Dienstanbieter.</div>\r\n                                    <div className={classes.ErrorItem}><strong>Ooops, something went wrong.</strong> Probably the Zeroconfiguration Networking Service is missing. Please contact the device manufacturer or your service provider.</div>\r\n                                    <div className={classes.ErrorCode}><strong>Host:</strong> {this.state.error.host}</div>\r\n                                    <div className={classes.ErrorCode}><strong>Code:</strong> {this.state.error.code}</div>\r\n                                    <div className={classes.ErrorMsg}><strong>{this.state.error.msg}:</strong> {this.state.error.reason}</div>\r\n                                </FocusableSection>\r\n                            </div>\r\n                        </div>\r\n                )\r\n            }  \r\n            else {\r\n                return(\r\n                <div className={classes.Background}>\r\n                <h1 className={classes.Title}>Service Discovery</h1>\r\n                <div className={classes.ServiceWrap}>\r\n                    <FocusableSection sectionId='main-service'\r\n                        neighborUp='@section_header'\r\n                        neighborDown=''\r\n                        neighborRight='@detail-services'\r\n                        className={classes.LeftPanel}>\r\n                            <div className={classes.Frame}  id='main-service'>\r\n                                <p className={classes.Address + ' ' + classes.TextCenter}>Hosts</p>\r\n                                {this.getNodes()}\r\n                            </div>\r\n                    </FocusableSection>\r\n                    <FocusableSection sectionId='detail-services'\r\n                        neighborUp='@section_header'\r\n                        neighborDown=''\r\n                        neighborLeft='@main-service'\r\n                        neighborRight='@detail-service'\r\n                        className={classes.MidPanel}>\r\n                            <div className={classes.Frame}>\r\n                                {this.getServices()}\r\n                            </div>\r\n                    </FocusableSection>\r\n                    {this.getServiceDetail()}\r\n                </div>\r\n            </div>\r\n                )\r\n            }\r\n        }\r\n\r\n    render(){\r\n        return (\r\n            this.getMenu()\r\n\r\n        );\r\n                     }\r\n}\r\n\r\nexport default Discovery;\r\n","import './App.css';\r\nimport React from 'react';\r\nimport Discovery from './Discovery/Discovery';\r\nimport SpatialNavigation from 'react-js-spatial-navigation';\r\n\r\n\r\nfunction App() {\r\n  const hideMenuHandler = (event, key = true) => {\r\n    const keys = [8, 27, 403, 461];\r\n    if (keys.includes(event.keyCode) || key === false){\r\n      window.history.back();\r\n    }\r\n  }\r\n  return (\r\n      <SpatialNavigation\r\n       className=\"App\">\r\n        <Discovery hideMenu={hideMenuHandler}/>\r\n      </SpatialNavigation>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <section>\r\n    <App />\r\n  </section>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}