{"version":3,"sources":["Discovery/Discovery.module.css","Discovery/Discovery.js","App.js","index.js"],"names":["module","exports","Icon","width","height","viewBox","version","xmlns","xmlnsXlink","style","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","id","opacity","transform","d","fill","Loader","x","y","enable-background","xmlSpace","attributeName","attributeType","type","dur","from","to","repeatCount","Discovery","baseUrl","serviceName","state","error","code","msg","reason","loaded","loading","mainItems","key","name","showRight","changeIdx","event","idx","setState","selIdx","detailIdx","target","scrollIntoView","behavior","inline","block","changeDetailIdx","this","loadData","Date","now","data","services","forEach","service","node","domain","domainName","host","hostName","ipv4","addresses","ipv6","subtype","port","String","record","txtRecord","push","fetch","headers","then","res","a","json","resp","ok","message","process","REACT_APP_DISCOVERY_URL","parseData","catch","navigator","sendBeacon","method","body","JSON","stringify","replaceWildcards","serviceProtocol","provider","product","path","window","location","protocol","hostname","response","requestServices","Object","keys","map","className","classes","Row","onFocus","onKeyUp","props","hideMenu","Name","replace","Address","Number","length","index","ip","InfoWrap","ser","InfoRow","Type","startsWith","includes","BtnWrap","Btn","onClickEnter","open","getLink","item","Array","isArray","it","InfoValue","sectionId","neighborUp","neighborDown","neighborLeft","neighborRight","RightPanel","Show","Hide","Frame","getButton","InfoTitle","DetailRow","InfoHead","getDetailValue","Loading","ref","modalRef","ServiceWrap","ErrorWrap","ErrorItem","ErrorCode","ErrorMsg","Background","Title","LeftPanel","TextCenter","getNodes","MidPanel","getServices","getServiceDetail","getMenu","Component","App","keyCode","history","back","ReactDOM","render","Fragment","document","getElementById"],"mappings":"iHACAA,EAAOC,QAAU,CAAC,KAAO,wBAAwB,MAAQ,yBAAyB,KAAO,wBAAwB,WAAa,8BAA8B,UAAY,6BAA6B,SAAW,4BAA4B,WAAa,8BAA8B,KAAO,wBAAwB,KAAO,wBAAwB,YAAc,+BAA+B,UAAY,6BAA6B,UAAY,6BAA6B,MAAQ,yBAAyB,IAAM,uBAAuB,QAAU,2BAA2B,UAAY,6BAA6B,QAAU,2BAA2B,KAAO,wBAAwB,KAAO,wBAAwB,OAAS,0BAA0B,SAAW,4BAA4B,SAAW,4BAA4B,UAAY,6BAA6B,QAAU,2BAA2B,IAAM,uBAAuB,WAAa,8BAA8B,UAAY,6BAA6B,QAAU,2BAA2B,gBAAkB,mCAAmC,kBAAoB,uC,2PCI3lCC,EAAO,kBACT,yBAAKC,MAAM,MAAMC,OAAO,MAAMC,QAAQ,cAAcC,QAAQ,MAAMC,MAAM,6BAA6BC,WAAW,+BAA+BC,MAAO,CAACC,SAAS,UAAUC,SAAS,UAAUC,eAAe,QAAQC,iBAAiB,MACrO,uBAAGC,GAAG,SAASC,QAAQ,OACnB,uBAAGC,UAAU,wBACT,uBAAGF,GAAG,UACF,uBAAGA,GAAG,gBACF,uBAAGA,GAAG,SACF,uBAAGA,GAAG,YACF,0BAAMA,GAAG,SAASG,EAAE,g/BAAg/BR,MAAO,CAACS,KAAM,aAClhC,0BAAMJ,GAAG,SAASG,EAAE,uLAAuLR,MAAO,CAACS,KAAM,aACzN,0BAAMJ,GAAG,UAAUG,EAAE,mMAAmMR,MAAO,CAACS,KAAM,aACtO,0BAAMJ,GAAG,UAAUG,EAAE,oLAAoLR,MAAO,CAACS,KAAM,aACvN,0BAAMJ,GAAG,UAAUG,EAAE,0EAA0ER,MAAO,CAACS,KAAM,aAC7G,0BAAMJ,GAAG,UAAUG,EAAE,0EAA2ER,MAAO,CAACS,KAAM,aAC9G,0BAAMJ,GAAG,UAAUG,EAAE,+EAAgFR,MAAO,CAACS,KAAM,aACnH,0BAAMJ,GAAG,UAAUG,EAAE,uGAAwGR,MAAO,CAACS,KAAM,aAC3I,0BAAMJ,GAAG,UAAUG,EAAE,kHAAkHR,MAAO,CAACS,KAAM,qBAUzKC,EAAS,kBACb,yBAAKb,QAAQ,MAAMQ,GAAG,KAAKP,MAAM,6BAA6BC,WAAW,+BAA+BY,EAAE,MAAMC,EAAE,MAAMlB,MAAM,MAAMC,OAAO,MACvIC,QAAQ,cAAciB,oBAAkB,cAAcC,SAAS,YAC3D,0BAAML,KAAK,UAAUD,EAAE,kGACvB,sCACIO,cAAc,YACdC,cAAc,MACdC,KAAK,SACLC,IAAI,KACJC,KAAK,UACLC,GAAG,YACHC,YAAY,kBAyUbC,E,4MAnUXC,QAAU,gD,EACVC,YAAc,e,EACdC,MAAQ,CAACC,MAAO,CAACC,KAAM,UAAWC,IAAK,QAASC,OAAQ,oB,EACxDC,OAAS,E,EACTC,SAAU,E,EACVC,UAAY,CAAC,CAACC,IAAK,OAAQC,KAAM,QAAS,CAACD,IAAK,OAAQC,KAAM,QAAS,CAACD,IAAK,OAAQC,KAAM,QAAS,CAACD,IAAK,OAAQC,KAAM,QAAS,CAAED,IAAK,SAAUC,KAAM,UAC3I,CAAED,IAAK,OAAQC,KAAM,QAAS,CAACD,IAAK,OAAQC,KAAM,gBAAiB,CAAED,IAAK,UAAWC,KAAM,oB,EACxGC,WAAY,E,EAiGZC,UAAY,SAACC,EAAOC,GACZ,aAAc,EAAKb,QACnB,EAAKU,WAAY,EACjB,EAAKI,SAAS,CAACC,OAAQF,EAAKG,UAAW,IACvCJ,EAAMK,OAAOC,eAAe,CAACC,SAAU,SAAUC,OAAQ,SAAUC,MAAO,a,EAIlFC,gBAAkB,SAACV,EAAOC,GAClB,aAAc,EAAKb,QACnB,EAAKU,WAAY,EACjB,EAAKI,SAAS,CAACE,UAAWH,IAC1BD,EAAMK,OAAOC,eAAe,CAACC,SAAU,SAAUC,OAAQ,SAAUC,MAAO,a,uDAjBlF,WACQE,KAAKC,WACLD,KAAKlB,OAASoB,KAAKC,Q,uBApF3B,SAAUC,GACN,IAAMC,EAAW,GACjBD,EAAKE,SAAQ,SAAAC,GACT,IAAMC,EAAO,CAACtB,KAAMqB,EAAQrB,KAAMuB,OAAQF,EAAQG,WAAYC,KAAMJ,EAAQK,SAAUC,KAAMN,EAAQO,UAAUD,KAAME,KAAMR,EAAQO,UAAUC,KAC9H9C,KAAMsC,EAAQA,QAAQtC,KAAM+C,QAAST,EAAQA,QAAQS,QAASC,KAAMC,OAAOX,EAAQA,QAAQU,MAAOE,OAAQZ,EAAQA,QAAQa,WACpIb,EAAQK,YAAYP,EACpBA,EAASE,EAAQK,UAAUS,KAAKb,GAEhCH,EAASE,EAAQK,UAAY,CAACJ,MAGlC,aAAcR,KAAKvB,MACnBuB,KAAKT,SAAS,CAACc,SAAUA,IAEzBL,KAAKT,SAAS,CAACc,SAAUA,EAAUb,OAAQ,EAAGC,UAAW,EAAGf,OAAO,M,6BAI3E,WAAkB,IAAD,OACT4C,MAAMtB,KAAKzB,QAAS,CAChBgD,QAAS,CAAE,eAAgB,sBAE9BC,KAHD,uCAGM,WAAMC,GAAN,eAAAC,EAAA,sEACiBD,EAAIE,OADrB,UACIC,EADJ,OAEGH,EAAII,GAFP,uBAGE,EAAK9C,SAAU,EAHjB,kBAIS,EAAKQ,SAAS,CAAEb,MAAO,CAAEC,KAAMiD,EAAKjD,KAAMC,IAAKgD,EAAKE,QAASjD,OAAQ+C,EAAK/C,OAAQ8B,KAAMoB,iLAAYC,4BAJ7G,cAMF,EAAKjD,SAAU,EANb,kBAOK,EAAKkD,UAAUL,EAAKvB,WAPzB,2CAHN,uDAWG6B,OAAM,SAAAxD,GAEL,OADA,EAAKK,SAAU,EACR,EAAKQ,SAAS,CAACb,MAAO,CAACC,KAAM,UAAWC,IAAK,QAASC,OAAQH,EAAMoD,QAASnB,KAAMoB,iLAAYC,gC,2BAIlH,WACIG,UAAUC,WAAYpC,KAAKzB,QAAU,IAAMyB,KAAKxB,e,sBAGpD,WAAY,IAAD,OACa,IAAhBwB,KAAKlB,OAELwC,MAAMtB,KAAKzB,QAAS,CACpB8D,OAAQ,OACRd,QAAS,CAAE,eAAgB,oBAC3Be,KAAMC,KAAKC,UACP,CACItD,KAAMc,KAAKxB,YACXiE,kBAAkB,EAClBC,gBAAiB,MACjBnC,QAAS,CACLtC,KAAM,aACNgD,KAAM,GACNG,UAAW,CACPvE,QAAS,MACT8F,SAAU,2BACVC,QAAS,uBACTC,KAAOC,OAAOC,SAASC,SAAW,KAAOF,OAAOC,SAASE,SAAW,IAAMH,OAAOC,SAAS9B,WAMzGO,MAAK,SAAA0B,GAAQ,OAAIA,EAASvB,UAC1BH,MAAK,SAAA0B,GACF,GAAsB,MAAlBA,EAASvE,MAAkC,MAAlBuE,EAASvE,KAElC,OADA,EAAKI,SAAU,EACR,EAAKQ,SAAS,CAACb,MAAO,CAACC,KAAMuE,EAASvE,KAAMC,IAAKsE,EAASpB,QAASjD,OAAQqE,EAASrE,OAAQ8B,KAAM,EAAKpC,WAElH,EAAKQ,SAAU,EACf,EAAKoE,qBAERjB,OAAM,SAAAxD,GAEH,OADA,EAAKK,SAAU,EACR,EAAKQ,SAAS,CAACb,MAAO,CAACC,KAAM,UAAWC,IAAK,QAASC,OAAQH,EAAMoD,QAASnB,KAAM,EAAKpC,cAGnGyB,KAAKmD,oB,sBAyBb,WAAW,IAAD,OACN,GAAI,aAAcnD,KAAKvB,MACnB,OAAQ2E,OAAOC,KAAKrD,KAAKvB,MAAM4B,UAAUiD,KAAI,SAACrE,EAAKK,GAC/C,OACI,kBAAC,YAAD,CAAWiE,UAAWC,IAAQC,KAAe,IAARnE,EAAY,eAAiB,IAAKL,IAAKK,EACxEoE,QAAS,SAACrE,GAAD,OAAW,EAAKD,UAAUC,EAAOC,IAC1CqE,QAAS,SAACtE,GAAD,OAAW,EAAKuE,MAAMC,SAASxE,KACxC,uBAAGkE,UAAWC,IAAQM,MAAO,EAAKrF,MAAM4B,SAASpB,GAAK,GAAG0B,KAAKoD,QAAQ,iBAAkB,KACxF,uBAAGR,UAAWC,IAAQQ,SAAU,EAAKvF,MAAM4B,SAASpB,GAAK,GAAG4B,KAAK,GACjE,0BAAM0C,UAAWC,IAAQS,QAAzB,KAAwE,IAApC,EAAKxF,MAAM4B,SAASpB,GAAKiF,OAAe,cAAgB,EAAKzF,MAAM4B,SAASpB,GAAKiF,OAAS,YAA9H,Y,yBASpB,WAAc,IAAD,OACT,GAAI,aAAclE,KAAKvB,MAAM,CACzB,IAAI0F,EAAQnE,KAAKvB,MAAMe,OACnBQ,KAAKvB,MAAMe,OAAS4D,OAAOC,KAAKrD,KAAKvB,MAAM4B,UAAU6D,SACrDC,EAAQ,GAGZ,IAAM5D,EAAUP,KAAKvB,MAAM4B,SAAS+C,OAAOC,KAAKrD,KAAKvB,MAAM4B,UAAU8D,IACrE,OACI,oCACI,uBAAGZ,UAAWC,IAAQQ,SAAtB,WACA,uBAAGT,UAAWC,IAAQM,MAAOvD,EAAQ,GAAGI,MACvCJ,EAAQ,GAAGM,KAAKyC,KAAI,SAACc,EAAI9E,GACtB,OAAO,uBAAGL,IAAK,QAAUK,EAAKiE,UAAWC,IAAQM,MAAOM,MAE3D7D,EAAQ,GAAGQ,KAAKuC,KAAI,SAACc,EAAI9E,GACtB,OAAO,uBAAGL,IAAK,QAAUK,EAAKiE,UAAWC,IAAQM,MAAOM,MAE5D,yBAAKb,UAAWC,IAAQa,UACpB,uBAAGd,UAAWC,IAAQQ,SAAtB,YACCzD,EAAQ+C,KAAI,SAACgB,EAAKhF,GACf,OACI,kBAAC,YAAD,CAAWiE,UAAWC,IAAQe,QAAStF,IAAKK,EACxCoE,QAAS,SAACrE,GAAD,OAAW,EAAKU,gBAAgBV,EAAOC,IAChDqE,QAAS,SAACtE,GAAD,OAAW,EAAKuE,MAAMC,SAASxE,KACxC,uBAAGkE,UAAWC,IAAQM,MAAOQ,EAAIpF,MACjC,uBAAGqE,UAAWC,IAAQgB,MAAOF,EAAIrG,e,qBAUjE,SAAQsC,EAAS6D,GAOb,OALI7D,EAAQY,OAAR,KAAyBZ,EAAQY,OAAR,IAAsBsD,WAAW,QACpDlE,EAAQY,OAAR,IAEA,UAAYiD,EAAK,IAAMlD,OAAOX,EAAO,OAAaA,EAAQY,OAAR,IAAwBZ,EAAQY,OAAR,IAAwB,M,uBAKhH,SAAUZ,GAAS,IAAD,OACd,GAAIA,EAAO,KAASmE,SAAS,QACzB,OAAOnE,EAAO,KAAS+C,KAAI,SAACc,EAAI9E,GAC5B,OACI,yBAAKiE,UAAWC,IAAQmB,QAAS1F,IAAK,YAAcK,GAChD,kBAAC,YAAD,CAAWiE,UAAWC,IAAQoB,IAAKC,aAAc,WAAO/B,OAAOgC,KAAK,EAAKC,QAAQxE,EAAS6D,GAAK,YAC1F7D,EAAO,KAAS2D,OAAS,EAAI,SAAW5E,EAAK,IAAK,c,4BAQ3E,SAAeiB,EAASyE,GACpB,OAAIC,MAAMC,QAAQ3E,EAAQyE,EAAK/F,MACnBsB,EAAQyE,EAAK/F,KAAKqE,KAAI,SAAC6B,EAAI7F,GAC/B,OAAO,uBAAGL,IAAK+F,EAAK/F,IAAM,IAAMK,EAAKiE,UAAWC,IAAQ4B,WAAYD,MAGjE,uBAAG5B,UAAWC,IAAQ4B,WAAY7E,EAAQyE,EAAK/F,Q,8BAI9D,WAAmB,IAAD,OACd,GAAI,aAAce,KAAKvB,MAAM,CACzB,IAAI0F,EAAQnE,KAAKvB,MAAMgB,UACvB,GAAIO,KAAKvB,MAAM4B,SAAS+C,OAAOC,KAAKrD,KAAKvB,MAAM4B,UAAUL,KAAKvB,MAAMe,SAAS0E,OAASC,EAAQ,EAE1F,YADAA,EAAQ,GAIZ,IAAM5D,EAAUP,KAAKvB,MAAM4B,SAAS+C,OAAOC,KAAKrD,KAAKvB,MAAM4B,UAAUL,KAAKvB,MAAMe,SAAS2E,GACzF,OACI,kBAAC,mBAAD,CAAkBkB,UAAU,iBACxBC,WAAW,kBACXC,aAAa,GACbC,aAAa,mBACbC,cAAc,GACdlC,UAAWC,IAAQkC,WAAa,KAAO1F,KAAKb,UAAYqE,IAAQmC,KAAOnC,IAAQoC,OAC3E,yBAAKrC,UAAWC,IAAQqC,OACnB7F,KAAK8F,UAAUvF,GAChB,uBAAGgD,UAAWC,IAAQuC,WAAtB,QACC/F,KAAKhB,UAAUsE,KAAI,SAAC0B,EAAM1F,GACvB,OAAIiB,EAAQyE,EAAK/F,MAAQsB,EAAQyE,EAAK/F,KAAKiF,OAAS,EAE5C,kBAAC,YAAD,CAAWX,UAAWC,IAAQwC,UAAW/G,IAAK,UAAYK,EACtDoE,QAAS,SAACrE,GAAWA,EAAMK,OAAOC,eAAe,CAACC,SAAU,SAAUC,OAAQ,SAAUC,MAAO,aAC/F,uBAAGyD,UAAWC,IAAQyC,UAAWjB,EAAK9F,MACrC,EAAKgH,eAAe3F,EAASyE,IAG5B,QAElB,6BACA,uBAAGzB,UAAWC,IAAQuC,WAAtB,QACC3C,OAAOC,KAAK9C,EAAQY,QAAQmC,KAAI,SAAC0B,GAC9B,OACI,kBAAC,YAAD,CAAWzB,UAAWC,IAAQwC,UAAW/G,IAAK+F,EAC1CtB,QAAS,SAACrE,GAAWA,EAAMK,OAAOC,eAAe,CAACC,SAAU,SAAUC,OAAQ,SAAUC,MAAO,aAC/F,uBAAGyD,UAAWC,IAAQyC,UAAWjB,GACjC,uBAAGzB,UAAWC,IAAQ4B,WAAY7E,EAAQY,OAAO6D,a,qBASrF,WACQ,OAAqB,IAAjBhF,KAAKjB,QACE,yBAAKwE,UAAWC,IAAQ2C,SACvB,yBAAKC,IAAKpG,KAAK4D,MAAMyC,UACjB,yBAAK9C,UAAWC,IAAQ8C,aACpB,kBAAC,EAAD,UAKU,IAArBtG,KAAKvB,MAAMC,QAAoC,IAAjBsB,KAAKjB,QAEhC,yBAAKwE,UAAW,aAAc6C,IAAKpG,KAAK4D,MAAMyC,UAC1C,yBAAK9C,UAAWC,IAAQ8C,aACpB,kBAAC,mBAAD,CACQ/C,UAAWC,IAAQ+C,WACvB,yBAAKhD,UAAWC,IAAQgD,WACpB,kBAAC,EAAD,OAEJ,yBAAKjD,UAAWC,IAAQgD,WAAW,sEAAnC,kJACA,yBAAKjD,UAAWC,IAAQgD,WAAW,gEAAnC,mIACA,yBAAKjD,UAAWC,IAAQiD,WAAW,yCAAnC,IAA2DzG,KAAKvB,MAAMC,MAAMiC,MAC5E,yBAAK4C,UAAWC,IAAQiD,WAAW,yCAAnC,IAA2DzG,KAAKvB,MAAMC,MAAMC,MAC5E,yBAAK4E,UAAWC,IAAQkD,UAAU,gCAAS1G,KAAKvB,MAAMC,MAAME,IAA1B,KAAlC,IAA4EoB,KAAKvB,MAAMC,MAAMG,WAQjH,yBAAK0E,UAAWC,IAAQmD,YACxB,wBAAIpD,UAAWC,IAAQoD,OAAvB,qBACA,yBAAKrD,UAAWC,IAAQ8C,aACpB,kBAAC,mBAAD,CAAkBjB,UAAU,eACxBC,WAAW,kBACXC,aAAa,GACbE,cAAc,mBACdlC,UAAWC,IAAQqD,WACf,yBAAKtD,UAAWC,IAAQqC,MAAQxI,GAAG,gBAC/B,uBAAGkG,UAAWC,IAAQQ,QAAU,IAAMR,IAAQsD,YAA9C,SACC9G,KAAK+G,aAGlB,kBAAC,mBAAD,CAAkB1B,UAAU,kBACxBC,WAAW,kBACXC,aAAa,GACbC,aAAa,gBACbC,cAAc,kBACdlC,UAAWC,IAAQwD,UACf,yBAAKzD,UAAWC,IAAQqC,OACnB7F,KAAKiH,gBAGjBjH,KAAKkH,uB,oBAOtB,WACI,OACIlH,KAAKmH,c,GA9TOC,aC1BTC,MAff,WAOE,OACI,kBAAC,IAAD,CACC9D,UAAU,OACT,kBAAC,EAAD,CAAWM,SATO,SAACxE,GAAuB,IAAhBJ,IAAe,yDACvCoE,EAAO,CAAC,EAAG,GAAI,IAAK,MACtBA,EAAKqB,SAASrF,EAAMiI,WAAoB,IAARrI,IAClC6D,OAAOyE,QAAQC,YCLrBC,IAASC,OACP,kBAAC,IAAMC,SAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.6bbcbcd9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"Discovery_Item__2ukVt\",\"Title\":\"Discovery_Title__3eT40\",\"Back\":\"Discovery_Back__mo5C4\",\"Background\":\"Discovery_Background__qOefW\",\"LeftPanel\":\"Discovery_LeftPanel__3tiIc\",\"MidPanel\":\"Discovery_MidPanel__3hlkj\",\"RightPanel\":\"Discovery_RightPanel__1Ve4X\",\"Show\":\"Discovery_Show__2ClRv\",\"Hide\":\"Discovery_Hide__2KeSg\",\"ServiceWrap\":\"Discovery_ServiceWrap__a_rbe\",\"ErrorWrap\":\"Discovery_ErrorWrap__2_6L0\",\"ErrorItem\":\"Discovery_ErrorItem__2t7f0\",\"Frame\":\"Discovery_Frame__iP-QS\",\"Row\":\"Discovery_Row__39C1C\",\"InfoRow\":\"Discovery_InfoRow__1PJ3D\",\"DetailRow\":\"Discovery_DetailRow__2Dlb4\",\"Address\":\"Discovery_Address__xKNFP\",\"Name\":\"Discovery_Name__3Qyxh\",\"Type\":\"Discovery_Type__21KWU\",\"Number\":\"Discovery_Number__2ollu\",\"InfoWrap\":\"Discovery_InfoWrap__3mfmW\",\"InfoHead\":\"Discovery_InfoHead__1FkrL\",\"InfoValue\":\"Discovery_InfoValue__3FvNy\",\"BtnWrap\":\"Discovery_BtnWrap__WnakS\",\"Btn\":\"Discovery_Btn__jm9RC\",\"TextCenter\":\"Discovery_TextCenter__AQr-M\",\"InfoTitle\":\"Discovery_InfoTitle__2t5M3\",\"Loading\":\"Discovery_Loading__1QvXR\",\"slideInFromLeft\":\"Discovery_slideInFromLeft__3X5RV\",\"slideOutFromRight\":\"Discovery_slideOutFromRight__3ENQr\"};","\nimport React, { Component } from 'react';\nimport { Focusable, FocusableSection } from 'react-js-spatial-navigation';\nimport classes from './Discovery.module.css';\n\nconst Icon = () => (\n    <svg width=\"90%\" height=\"90%\" viewBox=\"0 0 187 235\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" style={{fillRule:\"evenodd\",clipRule:\"evenodd\",strokeLinejoin:\"round\",strokeMiterlimit:\"2\"}}>\n    <g id=\"Page-1\" opacity=\"0.2\">\n        <g transform=\"matrix(1,0,0,1,-2,0)\">\n            <g id=\"Error1\">\n                <g id=\"NothingFound\">\n                    <g id=\"Group\">\n                        <g id=\"Group-26\">\n                            <path id=\"Fill-7\" d=\"M46.709,53.361L46.709,65.153C49.583,65.834 68.843,69.461 94.316,69.461C108.215,69.461 123.967,68.381 139.914,65.153L139.914,53.361C156.894,56.304 165.614,60.478 165.614,63.236C165.614,67.893 140.783,76.578 93.311,76.578C45.84,76.578 21.008,67.893 21.008,63.236C21.008,60.478 29.729,56.304 46.709,53.361M93.311,5.43C116.183,5.43 134.791,23.994 134.791,46.811L134.791,60.927C122.148,63.199 108.555,64.349 94.316,64.349C75.156,64.349 59.301,62.241 51.832,60.949L51.832,46.811C51.832,23.994 70.439,5.43 93.311,5.43M93.311,107.174C57.849,107.174 28.291,91.576 22.185,71.078C35.892,78.728 69.164,81.689 93.311,81.689C117.459,81.689 150.729,78.728 164.438,71.078C158.332,91.576 128.772,107.174 93.311,107.174M93.311,112.285C136.004,112.285 170.737,90.282 170.737,63.236C170.737,55.926 157.232,51.135 139.914,48.269L139.914,46.811C139.914,21.134 119.048,0.318 93.311,0.318C67.573,0.318 46.709,21.134 46.709,46.811L46.709,48.269C29.391,51.135 15.884,55.926 15.884,63.236C15.884,90.282 50.618,112.285 93.311,112.285\" style={{fill: \"#505a67\"}}/>\n                            <path id=\"Fill-9\" d=\"M93.311,86.183C90.24,86.183 87.748,88.667 87.748,91.733C87.748,94.797 90.24,97.282 93.311,97.282C96.382,97.282 98.874,94.797 98.874,91.733C98.874,88.667 96.382,86.183 93.311,86.183\" style={{fill: \"#505a67\"}}/>\n                            <path id=\"Fill-11\" d=\"M130.79,83.755C128.168,83.755 126.042,85.877 126.042,88.492C126.042,91.108 128.168,93.229 130.79,93.229C133.412,93.229 135.538,91.108 135.538,88.492C135.538,85.877 133.412,83.755 130.79,83.755\" style={{fill: \"#505a67\"}}/>\n                            <path id=\"Fill-13\" d=\"M55.832,83.755C53.21,83.755 51.084,85.877 51.084,88.492C51.084,91.108 53.21,93.229 55.832,93.229C58.454,93.229 60.58,91.108 60.58,88.492C60.58,85.877 58.454,83.755 55.832,83.755\" style={{fill: \"#505a67\"}}/>\n                            <path id=\"Fill-15\" d=\"M62.107,49.492L63.918,51.299L87.138,28.134L85.327,26.327L62.107,49.492Z\" style={{fill: \"#505a67\"}}/>\n                            <path id=\"Fill-17\" d=\"M86.748,37.381L84.937,35.574L76.804,43.688L78.615,45.495L86.748,37.381Z\"  style={{fill: \"#505a67\"}}/>\n                            <path id=\"Fill-21\" d=\"M93.969,229.225L96.531,229.225L96.531,119.225L93.969,119.225L93.969,229.225Z\"  style={{fill: \"#505a67\"}}/>\n                            <path id=\"Fill-24\" d=\"M62.79,115.999L61.648,115.418L60.508,114.836L2.001,229.062L3.14,229.643L4.282,230.225L62.79,115.999Z\"  style={{fill: \"#505a67\"}}/>\n                            <path id=\"Fill-25\" d=\"M188.837,228.53L127.994,115.071L126.864,115.674L125.735,116.276L186.577,229.735L187.707,229.133L188.837,228.53Z\" style={{fill: \"#505a67\"}}/>\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg> \n  );\n\n  const Loader = () => (\n    <svg version=\"1.1\" id=\"L9\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"60%\" height=\"60%\"\n        viewBox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xmlSpace=\"preserve\">\n            <path fill=\"#505a67\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\">\n            <animateTransform \n                attributeName=\"transform\" \n                attributeType=\"XML\" \n                type=\"rotate\"\n                dur=\"1s\" \n                from=\"0 50 50\"\n                to=\"360 50 50\" \n                repeatCount=\"indefinite\" />\n  </path>\n</svg>\n  );\n\nclass Discovery extends Component {\n    baseUrl = 'http://zeroconf:15051/a1/xploretv/v1/zeroconf';\n    serviceName = 'TV Dashboard';\n    state = {error: {code: 'Unknown', msg: 'Error', reason: 'Failed to fetch'}};\n    loaded = 0;\n    loading = true;\n    mainItems = [{key: 'ipv4', name: 'IPv4'}, {key: 'ipv6', name: 'IPv6'}, {key: 'port', name: 'Port'}, {key: 'name', name: 'Name'}, { key: 'domain', name: 'Domain'},\n                 { key: 'host', name: 'Host'}, {key: 'type', name: 'Service Type'}, { key: 'subtype', name: 'Service Subtype'}]\n    showRight = false;\n\n    componentDidMount() {\n        window.addEventListener('beforeunload', () => {\n            this.deleteService();\n            //console.log('Unregistering service');\n        })\n    }\n\n\n    parseData(data){\n        const services = {};\n        data.forEach(service => {\n            const node = {name: service.name, domain: service.domainName, host: service.hostName, ipv4: service.addresses.ipv4, ipv6: service.addresses.ipv6,\n                          type: service.service.type, subtype: service.service.subtype, port: String(service.service.port), record: service.service.txtRecord};\n            if (service.hostName in services){\n                services[service.hostName].push(node);\n            } else {\n                services[service.hostName] = [node];\n            }\n        });\n        if ('services' in this.state){\n            this.setState({services: services});\n        } else {\n            this.setState({services: services, selIdx: 0, detailIdx: 0, error: false});\n        }\n    }\n\n    requestServices(){\n            fetch(this.baseUrl, {\n                headers: { 'Content-Type': 'application/json' },\n            })\n            .then(async res => {\n                const resp = await res.json();\n                if (!res.ok){\n                    this.loading = false;\n                    return this.setState({ error: { code: resp.code, msg: resp.message, reason: resp.reason, host: process.env.REACT_APP_DISCOVERY_URL } });\n                }\n                this.loading = false;\n                return this.parseData(resp.services);\n            }).catch(error => {\n                this.loading = false;\n                return this.setState({error: {code: 'Unknown', msg: 'Error', reason: error.message, host: process.env.REACT_APP_DISCOVERY_URL}});\n            });\n    }\n\n    deleteService(){\n        navigator.sendBeacon( this.baseUrl + '/' + this.serviceName);\n    }\n\n    loadData() {\n        if (this.loaded === 0)\n        {\n            fetch(this.baseUrl, {\n            method: 'post',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(\n                {\n                    name: this.serviceName,\n                    replaceWildcards: true,\n                    serviceProtocol: 'any',\n                    service: {\n                        type: '_http._tcp',\n                        port: 80,\n                        txtRecord: {\n                            version: '1.0',\n                            provider: 'A1 Telekom Austria Group',\n                            product: 'A1 Service Discovery',\n                            path:  window.location.protocol + '//' + window.location.hostname + ':' + window.location.port,\n                        }\n                    }\n                }\n            )\n            })\n            .then(response => response.json())\n            .then(response => {\n                if (response.code !== 201 && response.code !== 409){\n                    this.loading = false;\n                    return this.setState({error: {code: response.code, msg: response.message, reason: response.reason, host: this.baseUrl}});\n                }\n                this.loading = false;\n                this.requestServices();\n            })\n            .catch(error => {\n                this.loading = false;\n                return this.setState({error: {code: 'Unknown', msg: 'Error', reason: error.message, host: this.baseUrl}});\n            })\n        } else {\n            this.requestServices();\n        }\n    }\n\n    componentDidMount(){\n            this.loadData();\n            this.loaded = Date.now();\n        }\n\n    changeIdx = (event, idx) => {\n        if ('services' in this.state){\n            this.showRight = false;\n            this.setState({selIdx: idx, detailIdx: 0});\n            event.target.scrollIntoView({behavior: 'smooth', inline: 'center', block: 'center'});\n        }\n    }\n\n    changeDetailIdx = (event, idx) => {\n        if ('services' in this.state){\n            this.showRight = true;\n            this.setState({detailIdx: idx});\n            event.target.scrollIntoView({behavior: 'smooth', inline: 'center', block: 'center'});\n        }\n    }\n\n    getNodes(){\n        if ('services' in this.state){\n            return (Object.keys(this.state.services).map((key, idx) => {\n                return(\n                    <Focusable className={classes.Row + (idx === 0 ? ' menu-active' : '')} key={idx}\n                        onFocus={(event) => this.changeIdx(event, idx)}\n                        onKeyUp={(event) => this.props.hideMenu(event)}>\n                        <p className={classes.Name}>{this.state.services[key][0].host.replace(/(.local.$|.$)/i, '')}</p>\n                        <p className={classes.Address}>{this.state.services[key][0].ipv4[0]}\n                        <span className={classes.Number}> ({this.state.services[key].length === 1 ? 'One service' : this.state.services[key].length + ' services'})</span>\n                        </p>\n                    </Focusable>\n                )\n            })\n            )\n        }\n    }\n\n    getServices(){\n        if ('services' in this.state){\n            let index = this.state.selIdx;\n            if (this.state.selIdx > Object.keys(this.state.services).length) {\n                index = 0;\n            }\n\n            const service = this.state.services[Object.keys(this.state.services)[index]];\n            return (\n                <>\n                    <p className={classes.Address}>Address</p>\n                    <p className={classes.Name}>{service[0].host}</p>\n                    {service[0].ipv4.map((ip, idx) => {\n                        return(<p key={'ipv4-' + idx} className={classes.Name}>{ip}</p>)\n                    })}\n                    {service[0].ipv6.map((ip, idx) => {\n                        return(<p key={'ipv6-' + idx} className={classes.Name}>{ip}</p>)\n                    })}\n                    <div className={classes.InfoWrap}>\n                        <p className={classes.Address}>Services</p>\n                        {service.map((ser, idx) => {\n                            return(\n                                <Focusable className={classes.InfoRow} key={idx}\n                                    onFocus={(event) => this.changeDetailIdx(event, idx)}\n                                    onKeyUp={(event) => this.props.hideMenu(event)}>\n                                    <p className={classes.Name}>{ser.name}</p>\n                                    <p className={classes.Type}>{ser.type}</p>\n                                </Focusable>\n                            )\n                        })}\n                    </div>\n                </>\n            )\n        }\n    }\n\n    getLink(service, ip){\n        let url = \"\";\n        if (service.record['get'] && service.record['get'].startsWith('http')){\n            url = service.record['get'];\n        } else {\n            url = 'http://' + ip + ':' + String(service['port']) + (service.record['get'] ? service.record['get'] : '');\n        }\n        return url;\n    }\n\n    getButton(service){\n        if (service['type'].includes('http')){\n            return(service['ipv4'].map((ip, idx) => {\n                return(\n                    <div className={classes.BtnWrap} key={'open_btn-' + idx}>\n                        <Focusable className={classes.Btn} onClickEnter={() => {window.open(this.getLink(service, ip), '_blank')}}>\n                            {service['ipv4'].length > 1 ? 'Open (' + idx +')': 'Open'}\n                        </Focusable>\n                    </div>\n                )\n            }))\n        }\n    }\n\n    getDetailValue(service, item){\n        if (Array.isArray(service[item.key])){\n            return (service[item.key].map((it, idx) => {\n                return(<p key={item.key + '-' + idx} className={classes.InfoValue}>{it}</p>)\n            }))\n        } else {\n            return(<p className={classes.InfoValue}>{service[item.key]}</p>)\n        }\n    }\n\n    getServiceDetail(){\n        if ('services' in this.state){\n            let index = this.state.detailIdx;\n            if (this.state.services[Object.keys(this.state.services)[this.state.selIdx]].length < index + 1){\n                index = 0;\n                return\n            }\n\n            const service = this.state.services[Object.keys(this.state.services)[this.state.selIdx]][index];\n            return(\n                <FocusableSection sectionId='detail-service'\n                    neighborUp='@section_header'\n                    neighborDown=''\n                    neighborLeft='@detail-services'\n                    neighborRight=''\n                    className={classes.RightPanel + ' ' + (this.showRight ? classes.Show : classes.Hide)}>\n                        <div className={classes.Frame}>\n                            {this.getButton(service)}\n                            <p className={classes.InfoTitle}>Core</p>\n                            {this.mainItems.map((item, idx) => {\n                                if (service[item.key] && service[item.key].length > 0){\n                                    return(\n                                        <Focusable className={classes.DetailRow} key={'detail_' + idx}\n                                            onFocus={(event) => {event.target.scrollIntoView({behavior: 'smooth', inline: 'center', block: 'center'})}}>\n                                            <p className={classes.InfoHead}>{item.name}</p>\n                                            {this.getDetailValue(service, item)}\n                                        </Focusable>\n                                    )\n                                } else return(null)\n                            })}\n                            <br></br>\n                            <p className={classes.InfoTitle}>Data</p>\n                            {Object.keys(service.record).map((item) => {\n                                return(\n                                    <Focusable className={classes.DetailRow} key={item}\n                                        onFocus={(event) => {event.target.scrollIntoView({behavior: 'smooth', inline: 'center', block: 'center'})}}>\n                                        <p className={classes.InfoHead}>{item}</p>\n                                        <p className={classes.InfoValue}>{service.record[item]}</p>\n                                    </Focusable>\n                                )\n                            })}\n                        </div>\n                </FocusableSection>\n            )\n        }\n    }\n    getMenu() {\n            if (this.loading === true) {\n                return(<div className={classes.Loading}>\n                        <div ref={this.props.modalRef}>\n                            <div className={classes.ServiceWrap}>\n                                <Loader/>\n                            </div>\n                        </div>\n                </div>);\n            }\n            else if (this.state.error !== false && this.loading === false){\n                return(\n                        <div className={'modal-menu'} ref={this.props.modalRef}>\n                            <div className={classes.ServiceWrap}>\n                                <FocusableSection\n                                        className={classes.ErrorWrap}>\n                                    <div className={classes.ErrorItem}>\n                                        <Icon/>\n                                    </div>\n                                    <div className={classes.ErrorItem}><strong>Ups, da ist etwas schief gelaufen.</strong> Wahrscheinlich fehlt das Zeroconfiguration Networking Service. Bitte wenden Sie sich an den Gerätehersteller oder an Ihren Dienstanbieter.</div>\n                                    <div className={classes.ErrorItem}><strong>Ooops, something went wrong.</strong> Probably the Zeroconfiguration Networking Service is missing. Please contact the device manufacturer or your service provider.</div>\n                                    <div className={classes.ErrorCode}><strong>Host:</strong> {this.state.error.host}</div>\n                                    <div className={classes.ErrorCode}><strong>Code:</strong> {this.state.error.code}</div>\n                                    <div className={classes.ErrorMsg}><strong>{this.state.error.msg}:</strong> {this.state.error.reason}</div>\n                                </FocusableSection>\n                            </div>\n                        </div>\n                )\n            }  \n            else {\n                return(\n                <div className={classes.Background}>\n                <h1 className={classes.Title}>Service Discovery</h1>\n                <div className={classes.ServiceWrap}>\n                    <FocusableSection sectionId='main-service'\n                        neighborUp='@section_header'\n                        neighborDown=''\n                        neighborRight='@detail-services'\n                        className={classes.LeftPanel}>\n                            <div className={classes.Frame}  id='main-service'>\n                                <p className={classes.Address + ' ' + classes.TextCenter}>Hosts</p>\n                                {this.getNodes()}\n                            </div>\n                    </FocusableSection>\n                    <FocusableSection sectionId='detail-services'\n                        neighborUp='@section_header'\n                        neighborDown=''\n                        neighborLeft='@main-service'\n                        neighborRight='@detail-service'\n                        className={classes.MidPanel}>\n                            <div className={classes.Frame}>\n                                {this.getServices()}\n                            </div>\n                    </FocusableSection>\n                    {this.getServiceDetail()}\n                </div>\n            </div>\n                )\n            }\n        }\n\n    render(){\n        return (\n            this.getMenu()\n\n        );\n                     }\n}\n\nexport default Discovery;\n","import './App.css';\nimport React from 'react';\nimport Discovery from './Discovery/Discovery';\nimport SpatialNavigation from 'react-js-spatial-navigation';\n\n\nfunction App() {\n  const hideMenuHandler = (event, key = true) => {\n    const keys = [8, 27, 403, 461];\n    if (keys.includes(event.keyCode) || key === false){\n      window.history.back();\n    }\n  }\n  return (\n      <SpatialNavigation\n       className=\"App\">\n        <Discovery hideMenu={hideMenuHandler}/>\n      </SpatialNavigation>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}